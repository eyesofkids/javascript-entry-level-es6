# 迴圈

迴圈(loop)是"重覆作某個事"的語句結構，你可以這樣解釋它，"在一個滿足的條件下，重覆作某件事幾次"。

迴圈語句經常會搭配陣列與物件之類的集合性資料結構使用，重覆地或循環地取出某些滿足條件的值，或是重覆性的更改其中某些值。

## for語句

for語句需要三個表達式作為參數，它們各自有其功用，分別以分號(;)作為區分。for迴圈的基本語法如下:

```js
for ([initialExpression]; [condition]; [incrementExpression])
  statement
```

- initialExpression: 初始(開始時)情況的表達式
- condition: 判斷情況或測試條件，代表可執行for中包含執行動作的滿足條件
- incrementExpression: 更新表達式，每次for迴圈中的執行動作語句完成即會執行一次這個表達式

一個簡單的範例如下:

```js
for(let count = 0 ; count < 10 ; count++){
    console.log(count)
}
```

整個程式碼的解說是:

- 在迴圈一開始時，將count變數指定為數字0
- 定義當`count < 10`時，才能滿足執行for中區塊語句的條件。也就是只有在`count < 10`時才能執行for中區塊語句。
- 每次當執行for中區塊的語句執行後，即會執行`count++`

### 表達式們的選項

由於for語句中共有三個表達式，分別代表迴圈進行時的設定與功用，這三個表達式的運用方式就延伸出各種不同的應用情況。所有的表達式都是可選的，也就是可有可無。下面這個看起來怪異的for語句是一個無窮迴圈，用了你的瀏覽器有可能會當掉:

```js
//錯誤示範
for(;;){
    console.log('bahbahbah')
}
```

> 註: 用`for(;;)`這樣的語法，基本上失去for語句原本的意義，完全不建議使用。

> 注意: 迴圈是一個破壞性相當高的語句，如果不小心很容易造成程式錯誤或當掉。

第一個表達式是用作初始值的定義，它是可以設定多個定義值的，每個定義值之間使用逗號(,)作為分隔，定義值可使用的範圍只在迴圈內部的語句中:

```js
for(let count = 0, total = 10 ; count < 10 ; count++){
    console.log(count, total)
}
```

> 註: 初始值同樣也可以定義在迴圈之外，但它的使用範圍會變成在迴圈之外，通常不建議這樣使用。

第二個表達式是用於判斷情況(condition)，也就是每次執行迴圈中區塊的語句前，都會來測試(檢查)一下，是不是滿足其中的條件，如果滿足的話(布林`true`值)，就執行迴圈中區塊的語句，不滿足的話(布林`false`值)，就跳出迴圈語句或略過它。這個表達式就是會造成無止盡的或重覆執行次數不正確的原兇，所以它是這三個表達式中要特別注意的一個。

由於它是一個標準的判斷情況(condition)表達式，如果有多個判斷情況的時候，要使用邏輯與(&&)和邏輯或(||)來連接，邏輯或(||)因為結果會是`true`的情況較為容易，所以要更佳小心:

```js
for(let count = 0, total = 10 ; count < 10 && total < 20 ; count++){
    console.log(count, total)
}
```

第三個表達式是用於更新的，它也不能說只用在遞增(increment)，應該說用在更新(update)會比較恰當。每次一執行完成迴圈就會執行一次的表達式。它的作用相當於在迴圈內的區塊中的最後面加上這個語句，例如下面這個for迴圈和最上面一開始的範例的結果是一樣的:

```js
for(let count = 0 ; count < 10 ;){
    console.log(count)
    count++
}
```

多個表達式也是沒問題的，同樣也是用逗點分隔(,)不同的表達式:

```js
for(let count = 0, total = 30 ; count < 10 && total > 20 ; count++, total--){
    console.log(count, total)
}
```

這裡有個小小問題，是有關於遞增運算符(++)與遞減運算符(--)，它們運算元的位置差異，放在運算元的前面和後面差異是什麼？例如以下的範例:

```js
let x = 1
let y = 1

console.log(x++) //1
console.log(x) //2

console.log(++y) //2
console.log(y) //2
```

所以放在運算元(值)前面(先)的遞增(++)或遞減(--)符號，就會先把值作加1或減1，也就會直接變動值。放後面的就是值的變動要在下一次再看得到。

> 口訣: 遞增減運算符(++/--) "錢仙"=(放)前(面)先(變動)

總結一下，實際上這三個表達式並沒有限定只能用哪些表達式，只要是合法的表達式都可以，不過只是第二個表達式會作判斷情況，也就是布林值的轉換，這一點要注意的。

### 多重迴圈

所謂的多重迴圈是巢狀的迴圈語句結構，也就是在迴圈的區塊語句中，再加上另一個內部的迴圈語句。典型的範例就是九九乘法表:

```js
for(let i = 1 ; i < 10 ; i++){
  for(let j = 1 ; j < 10 ; j++){
    console.log(i + ' x ' + j + ' = ', i * j )
  }
}
```

## while語句

## do...while語句

## for...in語句

## for...of語句

### break與continue

break(中斷)與continue(繼續)是用於迴圈區塊中語句的控制，在switch語句中也有看過break這個關鍵字的用法，在這裡也是類似的功用。

`break`是"中斷整個迴圈語句"的意思，可以中斷整個迴圈，也就是跳出迴圈區塊的語句，如果是在巢狀迴圈時是跳出最近的一層

`continue`是"繼續下一次迴圈語句"的意思，則是忽略在`continue`之下的語句，直接跳到下一次的重覆執行語句的開頭



